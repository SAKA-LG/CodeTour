<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <link rel="icon" href="/src/asset/book.png" type="image/png" />
  <title>Pixel Console Exercise - HTML</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap');
    body {
      font-family: 'Press Start 2P', cursive;
    }
    .pixel-border {
      border: 4px solid #000;
      box-shadow: 4px 4px 0 #000;
    }
  </style>
</head>
<body class="bg-[#1e1e2f] text-white flex flex-row h-screen overflow-hidden">

  <div class="w-1/2 flex items-center rounded-r-2xl bg-gray-900 justify-center p-10">
    <div class="text-center">
      <h2 class="text-yellow-300 text-2xl mb-4 pixel-border">Welcome to <span class="text-pink-400">China</span></h2>
      <p class="text-white text-sm mt-6 leading-relaxed max-w-md">
        Di sini kita akan belajar HTMl, membangun fondasi seperti Shanghai Tower.
      </p>
      <p class="text-start mt-3"># Tag element</p>
      <ul class="text-start text-sm mt-3 list-disc ml-5">
        <li>&lt;h1&gt; hingga &lt;h6&gt; untuk judul</li>
        <li>&lt;p&gt; untuk paragraf</li>
        <li>&lt;img&gt; untuk gambar</li>
        <li>&lt;button&gt; untuk button</li>
      </ul>
      <p class="text-start mt-3"># Atribute</p>
      <p class="text-xs text-start mt-2 ">
        <ul class="text-start text-sm mt-3 list-disc ml-5">
        <li>&lt;class&gt; untuk menambahkan class ke css</li>
        <li>&lt;href=''&gt; untuk tautan</li>
        <li>&lt;type&gt; untuk type dari element</li>
      </ul>
      </p>
    </div>
  </div>

  <div class="w-1/2 p-6 flex flex-col h-full">
    <h1 class="text-yellow-400 text-xl pixel-border px-4 py-2 bg-[#2b2b3d] inline-block">
      HTML Editor
    </h1>

    <div class="mt-10 mb-2">HTML CONSOLE</div>
    <div id="editor" class="h-48 pixel-border text-black"></div>

    <div class="flex gap-4 mt-4">
      <button id="saves" class="bg-blue-600 hover:bg-blue-700 px-4 py-2 text-white text-sm pixel-border">Save</button>
      <button id="reset" onclick="resetAll()" class="bg-red-600 hover:bg-red-700 px-4 py-2 text-white text-sm pixel-border">Reset</button>
      <button onclick="next()" class="bg-green-600 hover:bg-amber-700 px-4 py-2 text-white text-sm pixel-border">Next</button>
    </div>

    <div class="mt-6">
      <h2 class="text-white text-sm mb-2">Output:</h2>
      <iframe id="preview" class="bg-white pixel-border w-full h-40"></iframe>
    </div>
  </div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.33.0/min/vs/loader.min.js"></script>
  <script>
    let editor;
    require.config({ paths: { 'vs': 'https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.33.0/min/vs' } });
    require(['vs/editor/editor.main'], function () {
      editor = monaco.editor.create(document.getElementById('editor'), {
        value: `<h1>Hello China!</h1>\n<p>Ini paragraft!</p>`,
        language: 'html',
        theme: 'vs-dark',
        fontSize: 12,
        minimap: { enabled: false }
      });
    });


    document.getElementById('saves').addEventListener('click', function () {
      const previewFrame = document.getElementById('preview');
      const htmlContent = editor.getValue();
      previewFrame.srcdoc = htmlContent;
    });

    function resetAll() {
      if (editor) editor.setValue('');
      document.getElementById('preview').srcdoc = '';
    }

    function next() {
      window.location.href = '/html/country/javascriptJapan/china02.html';
    }
  </script>
</body>
</html>
